<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Favicon Icon -->
    <link rel="shortcut icon" type="image/x-icon" href="/assets/images/favicon.png">

    <title>Cloudant Spring Boot Auto-Configuration</title>
    <meta name="description"
          content="With this starter for SpringBoot, using Cloudant and CouchDB couldn’t be easier!The Github project for Spring Boot auto-configuration binding for Cloudant is...">

    <link rel="canonical" href="http://www.clianz.com/2016/01/25/cloudant-config/">
    <link rel="alternate" type="application/rss+xml" title="Clianz" href="http://www.clianz.com/feed.xml">

    <script type="text/javascript" src="/bower_components/jquery/dist/jquery.min.js"></script>

    <!-- Third-Party CSS -->
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/bower_components/octicons/octicons/octicons.css">
    <link rel="stylesheet" href="/bower_components/hover/css/hover-min.css">
    <link rel="stylesheet" href="/bower_components/primer-markdown/dist/user-content.min.css">
    <link rel="stylesheet" href="/assets/css/syntax.css">

    <!-- My CSS -->
    <link rel="stylesheet" href="/assets/css/common.css">

    <!-- CSS set in page -->
    

    <!-- CSS set in layout -->
    
    <link rel="stylesheet" href="/assets/css/sidebar-post-nav.css">
    

    <script type="text/javascript" src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- Begin Jekyll SEO tag v1.4.0 -->
<title>Cloudant Spring Boot Auto-Configuration - Clianz</title>
<meta property="og:title" content="Cloudant Spring Boot Auto-Configuration" />
<meta name="description" content="With this starter for SpringBoot, using Cloudant and CouchDB couldn’t be easier!The Github project for Spring Boot auto-configuration binding for Cloudant is available athttps://github.com/icha024/cloudant-spring-boot-starter" />
<meta property="og:description" content="With this starter for SpringBoot, using Cloudant and CouchDB couldn’t be easier!The Github project for Spring Boot auto-configuration binding for Cloudant is available athttps://github.com/icha024/cloudant-spring-boot-starter" />
<link rel="canonical" href="http://www.clianz.com/2016/01/25/cloudant-config/" />
<meta property="og:url" content="http://www.clianz.com/2016/01/25/cloudant-config/" />
<meta property="og:site_name" content="Clianz" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-01-25T12:50:20+00:00" />
<link rel="next" href="http://www.clianz.com/2016/02/24/configuring-spring-mvc-async-threads/" title="Configuring Spring MVC Async Threads" />
<link rel="prev" href="http://www.clianz.com/2016/05/27/clojurescript-react-reagent/" title="Reagent - ClojureScript and React made easy" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Cloudant Spring Boot Auto-Configuration",
    "datePublished": "2016-01-25T12:50:20+00:00",
    "description": "With this starter for SpringBoot, using Cloudant and CouchDB couldn’t be easier!The Github project for Spring Boot auto-configuration binding for Cloudant is available athttps://github.com/icha024/cloudant-spring-boot-starter",
    "url": "http://www.clianz.com/2016/01/25/cloudant-config/"
  }
</script>
<!-- End Jekyll SEO tag -->
</head>


    <body>

    <header class="site-header">
    <div class="container">
        <a id="site-header-brand" href="/" title="Clianz">
            <span class="octicon octicon-mention"></span> Clianz
        </a>
        <nav class="site-header-nav" role="navigation">
            
            <a href="/"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Home">
                Home
            </a>
            
            <a href="/open-source"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Open-Source">
                Open-Source
            </a>
            
            <a href="/blog"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Blog">
                Blog
            </a>
            
        </nav>
    </div>
</header>


        <div class="content">
            <section class="jumbotron geopattern" data-pattern-id="Cloudant Spring Boot Auto-Configuration">
    <div class="container">
        <div id="jumbotron-meta-info">
            <h1>Cloudant Spring Boot Auto-Configuration</h1>
            <span class="meta-info">
                
                
                <span class="octicon octicon-calendar"></span> 2016/01/25
                
            </span>
        </div>
    </div>
</section>
<script>
    $(document).ready(function(){

        $('.geopattern').each(function(){
            $(this).geopattern($(this).data('pattern-id'));
        });

    });
</script>
<article class="post container" itemscope itemtype="http://schema.org/BlogPosting">

    <div class="row">

        <div class="col-md-8 markdown-body">

            <p>With this starter for SpringBoot, using Cloudant and CouchDB couldn’t be easier!</p>

<p>The Github project for Spring Boot auto-configuration binding for Cloudant is available at<br />
<a href="https://github.com/icha024/cloudant-spring-boot-starter">https://github.com/icha024/cloudant-spring-boot-starter</a><br />
<!--more--></p>

<h2 id="injecting-cloudant">Injecting Cloudant</h2>
<p>Just inject the cloudant DB into your code:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nd">@Bean</span>
<span class="kd">public</span> <span class="n">Database</span> <span class="nf">mydb</span><span class="p">(</span><span class="n">CloudantClient</span> <span class="n">cloudant</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">cloudant</span><span class="o">.</span><span class="na">database</span><span class="o">(</span><span class="s">"mydb"</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Then start using it:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nd">@Autowired</span>
<span class="n">Database</span> <span class="n">mydb</span>

<span class="n">mydb</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
</code></pre>
</div>

<h1 id="installing-with-maven">Installing with Maven</h1>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>com.clianz<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>cloudant-spring-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>0.9.0<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre>
</div>

<h2 id="spring-boot-configuration">Spring Boot Configuration</h2>

<p>Configurations can be placed in the application.properties (or yml, or json) as usual. The username and password is mandatory.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">##### Mandatory configs #####
</span><span class="py">cloudant.username</span><span class="p">=</span><span class="s">myUserName     #Username as assigned by Cloudant.</span>
<span class="py">cloudant.password</span><span class="p">=</span><span class="s">myPasswd       #Password as assigned by Cloudant.</span>

<span class="c">##### Optional configs #####
</span><span class="py">cloudant.account</span><span class="p">=</span><span class="s">myAccountName   #Defaults to username if left blank.</span>
<span class="py">cloudant.url</span><span class="p">=</span><span class="s">...                 #Defaults to official server.</span>
<span class="py">cloudant.proxyURL</span><span class="p">=</span><span class="s">...            #URL to proxy server</span>
<span class="py">cloudant.proxyUser</span><span class="p">=</span><span class="s">myUserName    #Proxy username</span>
<span class="py">cloudant.proxyPassword</span><span class="p">=</span><span class="s">myPasswd  #Proxy password.</span>
<span class="py">cloudant.connectTimeout</span><span class="p">=</span><span class="s">300      #Connect timeout in seconds. Default to 300 seconds (5 minutes).</span>
<span class="py">cloudant.readTimeout</span><span class="p">=</span><span class="s">300         #Read timeout in seconds. Default to 300 seconds (5 minutes).</span>
<span class="py">cloudant.maxConnections</span><span class="p">=</span><span class="s">6        #Default to 6.</span>
<span class="py">cloudant.disableSSLAuthentication</span><span class="p">=</span><span class="s">false   #Defaults to false.</span>
</code></pre>
</div>

<h2 id="bluemix-cloudfoundry-configuration">Bluemix (CloudFoundry) Configuration</h2>

<p>When using Bluemix (CloudFoundry), the client will <strong>automatically</strong> use the Cloudant service binded to the app instead of the Spring configuration.</p>

<p>Bluemix’s VCAP_SERVICES environment variable containing a Cloudant service will always take precedence over any Spring configuration. This is useful – Local development will use the Spring configuration properties, and promoting it to Bluemix will automatically use the environment configured instance. If Spring’s configuration is desired, just remove the Cloudant service binding from your Bluemix app.</p>


            <!-- Comments -->
            <div class="comments">
    <div id="disqus_thread"></div>
    <script>
        /**
         * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
         * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
         */
        /*
         var disqus_config = function () {
         this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
         this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
         };
         */
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');

            s.src = '///embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>

        </div>

        <div class="col-md-4">
            <h3>Post Directory</h3>
<div id="post-directory-module">
<section class="post-directory">
    <!-- Links that trigger the jumping -->
    <!-- Added by javascript below -->
    <dl></dl>
</section>
</div>

<script type="text/javascript">

    $(document).ready(function(){
        $( "article h2" ).each(function( index ) {
            $(".post-directory dl").append("<dt><a class=\"jumper\" hre=#" +
                    $(this).attr("id")
                    + ">"
                    + $(this).text()
                    + "</a></dt>");

            var children = $(this).nextUntil("h2", "h3")

            children.each(function( index ) {
                $(".post-directory dl").append("<dd><a class=\"jumper\" hre=#" +
                        $(this).attr("id")
                        + ">"
                        + "&nbsp;&nbsp;- " + $(this).text()
                        + "</a></dd>");
            });
        });

        var fixmeTop = $('#post-directory-module').offset().top - 100;       // get initial position of the element

        $(window).scroll(function() {                  // assign scroll event listener

            var currentScroll = $(window).scrollTop(); // get current position

            if (currentScroll >= fixmeTop) {           // apply position: fixed if you
                $('#post-directory-module').css({      // scroll to that element or below it
                    top: '100px',
                    position: 'fixed',
                    width: 'inherit'
                });
            } else {                                   // apply position: static
                $('#post-directory-module').css({      // if you scroll above it
                    position: 'inherit',
                    width: 'inherit'
                });
            }

        });

        $("a.jumper").on("click", function( e ) {

            e.preventDefault();

            $("body, html").animate({
                scrollTop: ($( $(this).attr('hre') ).offset().top - 100)
            }, 600);

        });
    });

</script>
        </div>

    </div>

</article>

        </div>

    <footer class="container">

    <div class="site-footer">

        <div class="copyright pull-left">
            <!-- 请不要更改这一行 方便其他人知道模板的来源 谢谢 -->
            <!-- Please keep this line to let others know where this theme comes from. Thank you :D -->
            Power by <a href="https://github.com/DONGChuan/Yummy-Jekyll">Yummy Jekyll</a>
        </div>

        <!--<a href="https://github.com/DONGChuan" target="_blank" aria-label="view source code">
            <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
        </a>-->

        <div class="pull-right">
            <a href="javascript:window.scrollTo(0,0)" >TOP</a>
        </div>

    </div>

    <!-- Third-Party JS -->
    <script type="text/javascript" src="/bower_components/geopattern/js/geopattern.min.js"></script>

    <!-- My JS -->
    <script type="text/javascript" src="/assets/js/script.js"></script>

    

    <!-- Google Analytics -->
    <div style="display:none">
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-71716738-1', 'auto');
            ga('send', 'pageview');

        </script>
    </div>

</footer>


    </body>

</html>
